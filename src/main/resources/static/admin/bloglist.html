<v-box title="博客列表">
    <v-table :ajax_url="ajax_url" :query="query" ref="table" :operations="operations" ></v-table>
</v-box>

<script>
    new Vue({
        data: {
            query : {} ,
            ajax_url : '/admin/get_table_data' ,
            send_req : 0 ,
            operations : [
                {
                    name : '编辑' ,
                    scheme: 'green',
                    icon:'edit',
                    method : function(row , $table) {
                        window.location.href = "/admin/edit.html"+"?id="+row.uid;
                    }
                } ,
                {
                    name : '删除'  ,
                    scheme: 'blue',
                    icon:'trash',
                    method : function(row ,$table) {
                        axios.get('/admin/delete/'+row.uid).then(function (response) {
                            $.alert(response.data);
                            $table.fetchData()

                        });

                    }
                }
            ]
        } ,
        methods: {
            re_query : function () {
                this.send_req++
            }
        } ,
    });

</script>
